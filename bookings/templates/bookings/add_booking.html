{% extends 'base.html' %}

{% load static %}

{% block title %}Create a Booking{% endblock %}

{% block content %}

{% load crispy_forms_tags %}
<div class="text-center">
    <h1 class="text-center mx-auto section-title my-3" id="booking">Book an appointment</h1>
    <form method="post" class="text-center w-75 mx-auto booking-section">
        {% csrf_token %}
        <div class="row">
            <!-- Calling each form input item to allow for more control in styling -->
            <div class="col m-4">
                <h4 class="text-center mb-3">Your Details</h4>
                {{ form.first_name|as_crispy_field|safe }}
                {{ form.last_name|as_crispy_field|safe }}
                {{ form.email|as_crispy_field|safe }}
            </div>
            <div class="col m-4">
                <h4 class="text-center mb-3">Choose Date & Time</h4>
                {{ form.date|as_crispy_field|safe }}
                {{ form.time|as_crispy_field|safe  }}
            </div>
        </div>
        <button type="submit" class="btn btn-primary w-25 mx-auto mb-2">Save</button>
    </form>
</div>

<div class="message-box">
    {% for message in messages %}
        {{ message|safe }}
    {% endfor %}
</div>
</div>

<div class="d-flex justify-content-center align-items-center">
    {% if request.user.is_authenticated %}
    <a href="{% url 'bookings' %}" class="btn btn-outline-primary w-50 mb-2 align-self-center" title="Make a Booking">Your appointments</a>
    {% else %}
    <p class="text-center w-25  m-2 signup  align-self-center"><a href="{% url 'account_login' %}" class="btn btn-custom p-2 px-4 mb-4">To book an appointment with me or leave a review please sign in here!</a></p>
</div>

{% endif %}
{% endblock %}